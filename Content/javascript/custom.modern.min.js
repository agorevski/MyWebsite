"use strict";(()=>{var d={init(){this.initNav(),this.initSmoothScroll(),this.initScrollToTop(),this.initDarkMode(),this.initLazySections()},initLazySections(){let e=document.querySelectorAll(".lazy-section");if(e.length)if("IntersectionObserver"in window){let t=new IntersectionObserver((o,i)=>{o.forEach(n=>{n.isIntersecting&&(n.target.classList.add("is-visible"),i.unobserve(n.target))})},{rootMargin:"50px 0px",threshold:.1});e.forEach(o=>t.observe(o))}else e.forEach(t=>t.classList.add("is-visible"))},initNav(){let e=document.querySelector("div.toggle-normal"),t=document.getElementById("menuToggle"),o=document.getElementById("theMenu"),i=document.getElementById("menuBackdrop"),n=document.body,s={top:document.querySelector("i.top-bar"),middle:document.querySelector("i.middle-bar"),bottom:document.querySelector("i.bottom-bar")},a=(c=!0)=>{let l=c?"toggle":"remove";s.top?.classList[l]("top-transform"),s.middle?.classList[l]("middle-transform"),s.bottom?.classList[l]("bottom-transform")},r=()=>{o?.classList.remove("menu-open"),t?.classList.remove("active"),i?.classList.remove("active"),n.classList.remove("body-push-toright"),a(!1),t?.setAttribute("aria-expanded","false")},m=()=>{o?.classList.add("menu-open"),t?.classList.add("active"),i?.classList.add("active"),n.classList.add("body-push-toright"),t?.setAttribute("aria-expanded","true")};document.querySelectorAll(".section, div#menu-options a").forEach(c=>{c.addEventListener("click",r)}),i?.addEventListener("click",r),t?.addEventListener("click",()=>{o?.classList.contains("menu-open")?r():m(),a()}),document.addEventListener("keydown",c=>{c.key==="Escape"&&o?.classList.contains("menu-open")&&(r(),a(!1))})},initSmoothScroll(){document.querySelectorAll("div#menu-options, div#about-btn").forEach(t=>{t.querySelectorAll('a[href*="#"]:not([href="#"])').forEach(o=>{o.addEventListener("click",i=>{let n=o.getAttribute("href"),s=n.substring(n.indexOf("#"));if(location.pathname.replace(/^\//,"")===o.pathname.replace(/^\//,"")&&location.hostname===o.hostname){let a=document.querySelector(s)||document.querySelector(`[name="${s.slice(1)}"]`);a&&(i.preventDefault(),a.scrollIntoView({behavior:"smooth",block:"start"}))}})})})},initScrollToTop(){let e=document.getElementById("scrollup"),t=()=>{e&&(window.scrollY>=50?(e.classList.add("animated","flipInY"),e.style.display="block",e.style.opacity="1"):(e.style.opacity="0",setTimeout(()=>{window.scrollY<50&&(e.style.display="none")},200)))};window.addEventListener("scroll",t,{passive:!0}),e?.addEventListener("click",o=>{o.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})},initDarkMode(){let e=document.getElementById("dark-mode-toggle"),t=document.documentElement,o=localStorage.getItem("theme"),i=window.matchMedia("(prefers-color-scheme: dark)").matches;o&&t.setAttribute("data-theme",o),e?.addEventListener("click",()=>{let n=t.getAttribute("data-theme"),s;n==="dark"?s="light":n==="light"?s="dark":s=i?"light":"dark",t.setAttribute("data-theme",s),localStorage.setItem("theme",s)}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",n=>{localStorage.getItem("theme")})},initScrollReveal(){if(typeof ScrollReveal>"u")return;let e=ScrollReveal({reset:!1}),t=["#map-card",".interest-icon-even",".interest-icon",".timeline-dot",".timeline-content","#interest-card","#contact-card",".section-title img"].join(",");e.reveal(t,{duration:1100}),e.reveal("#about-card, .map-label",{duration:1400,delay:500}),e.reveal("#v-card-holder",{duration:1400,distance:"150px"})}};document.addEventListener("DOMContentLoaded",()=>d.init());window.addEventListener("load",()=>{let e=document.getElementById("loading");e&&(e.style.opacity="0",setTimeout(()=>e.style.display="none",500)),d.initScrollReveal()});})();
