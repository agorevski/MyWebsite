"use strict";(()=>{var d={init(){this.initNav(),this.initSmoothScroll(),this.initScrollToTop(),this.initDarkMode(),this.initLazySections()},initLazySections(){let t=document.querySelectorAll(".lazy-section");if(t.length)if("IntersectionObserver"in window){let e=new IntersectionObserver((o,i)=>{o.forEach(s=>{s.isIntersecting&&(s.target.classList.add("is-visible"),i.unobserve(s.target))})},{rootMargin:"50px 0px",threshold:.1});t.forEach(o=>e.observe(o))}else t.forEach(e=>e.classList.add("is-visible"))},initNav(){let t=document.querySelector("div.toggle-normal"),e=document.getElementById("menuToggle"),o=document.getElementById("theMenu"),i=document.getElementById("menuBackdrop"),s=document.body,n={top:document.querySelector("i.top-bar"),middle:document.querySelector("i.middle-bar"),bottom:document.querySelector("i.bottom-bar")},r=(a=!0)=>{let l=a?"toggle":"remove";n.top?.classList[l]("top-transform"),n.middle?.classList[l]("middle-transform"),n.bottom?.classList[l]("bottom-transform")},c=()=>{o?.classList.remove("menu-open"),e?.classList.remove("active"),i?.classList.remove("active"),s.classList.remove("body-push-toright"),r(!1),e?.setAttribute("aria-expanded","false")},m=()=>{o?.classList.add("menu-open"),e?.classList.add("active"),i?.classList.add("active"),s.classList.add("body-push-toright"),e?.setAttribute("aria-expanded","true")};document.querySelectorAll(".section, div#menu-options a").forEach(a=>{a.addEventListener("click",c)}),i?.addEventListener("click",c),e?.addEventListener("click",()=>{o?.classList.contains("menu-open")?c():m(),r()}),document.addEventListener("keydown",a=>{a.key==="Escape"&&o?.classList.contains("menu-open")&&(c(),r(!1))})},initSmoothScroll(){document.querySelectorAll("div#menu-options, div#about-btn").forEach(e=>{e.querySelectorAll('a[href*="#"]:not([href="#"])').forEach(o=>{o.addEventListener("click",i=>{let s=o.getAttribute("href"),n=s.substring(s.indexOf("#"));if(location.pathname.replace(/^\//,"")===o.pathname.replace(/^\//,"")&&location.hostname===o.hostname){let r=document.querySelector(n)||document.querySelector(`[name="${n.slice(1)}"]`);r&&(i.preventDefault(),r.scrollIntoView({behavior:"smooth",block:"start"}))}})})})},initScrollToTop(){let t=document.getElementById("scrollup"),e=()=>{t&&(window.scrollY>=50?(t.classList.add("animated","flipInY"),t.style.display="block",t.style.opacity="1"):(t.style.opacity="0",setTimeout(()=>{window.scrollY<50&&(t.style.display="none")},200)))};window.addEventListener("scroll",e,{passive:!0}),t?.addEventListener("click",o=>{o.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})},initDarkMode(){let t=document.getElementById("dark-mode-toggle"),e=document.documentElement,o=localStorage.getItem("theme"),i=window.matchMedia("(prefers-color-scheme: dark)").matches;o&&e.setAttribute("data-theme",o),t?.addEventListener("click",()=>{let s=e.getAttribute("data-theme"),n;s==="dark"?n="light":s==="light"?n="dark":n=i?"light":"dark",e.setAttribute("data-theme",n),localStorage.setItem("theme",n)}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",s=>{localStorage.getItem("theme")})},initScrollReveal(){let t=document.querySelectorAll("#map-card, .interest-icon-even, .interest-icon, .timeline-dot, .timeline-content, #interest-card, #contact-card, .section-title img, #about-card, .map-label, #v-card-holder");if(t.length)if(t.forEach(e=>{e.style.opacity="0",e.style.transform="translateY(20px)",e.style.transition="opacity 0.6s ease-out, transform 0.6s ease-out"}),"IntersectionObserver"in window){let e=new IntersectionObserver((o,i)=>{o.forEach(s=>{s.isIntersecting&&(s.target.style.opacity="1",s.target.style.transform="translateY(0)",i.unobserve(s.target))})},{rootMargin:"0px 0px -50px 0px",threshold:.1});t.forEach(o=>e.observe(o))}else t.forEach(e=>{e.style.opacity="1",e.style.transform="translateY(0)"})}};document.addEventListener("DOMContentLoaded",()=>d.init());window.addEventListener("load",()=>{let t=document.getElementById("loading");t&&(t.style.opacity="0",setTimeout(()=>t.style.display="none",500)),d.initScrollReveal()});})();
